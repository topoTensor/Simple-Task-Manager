
<div id="success_target" class="fixed top-0 left-0 right-0 z-50 p-4text-center">
</div>

<div id="create_task_div">
  <button class="btn btn-primary" onclick="create_new_task_modal.showModal()">New Task</button>

  <dialog id="create_new_task_modal" class="modal">

    <div class="modal-box fixed">
      <h3 class="text-lg font-bold">New Task</h3>
      <p class="py-4">Press ESC key or the button below to close</p>
      <div class="container" x-date="{today : ''}" x-init="today = new Date().toISOString().slice(0, 10)">
        <input name='new_task_username' type="input" class="input my-5 w-full" placeholder="Username" /><br>
        <textarea name='new_task_content' class="textarea my-5 w-full max-h-96" placeholder="Content" ></textarea><br>
        Start date: <input name='new_task_startdate' type="date" class="input my-5 w-full" x-model="today"/><br>
        Deadline date:<input name='new_task_deadline' type="date" class="input my-5 w-full" x-model="today" /><br>
        Importance:<input
          type="number"
          name='new_task_importance' type="date" class="input my-5 w-full validator"
          placeholder="Type a number"
          value="0"
        />
        <p class="validator-hint">Must be between be 1 to 10</p>
      </div>

      <div class="modal-action">
          <form method="dialog">
            <button class="btn btn-primary" hx-post="new_task/"
            hx-include="[name='new_task_username'], [name='new_task_content'], [name='new_task_startdate'], [name='new_task_deadline'], [name='new_task_importance']"
            hx-swap="afterbegin transition:true"
            hx-target="#success_target"
            hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
            >Create</button>
            <button class="btn btn-error">Close</button>
          </form>
      </div>
    </div>
  </dialog>
</div>
